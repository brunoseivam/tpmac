record(tsub, "$(assy)$(val)TsubMtr") {
  field(INAM, "$(tsub)")
  field(SNAM, "$(tsub)Mtr")
  field(OTA1, "$(d1)$(val) PP MS")
  field(INPA, "$(m1)$(val) NPP MS")
  field(IPA0, "$(d1)Offset NPP MS")
  field(IPA1, "$(d1)Scale NPP MS")
  field(NLA, "$(nla)")
  field(INPC, "$(m1)ClosePos NPP MS")
  field(INPO, "$(m1)OpenPos NPP MS")
  field(OUTD, "$(m1)bo:rbk PP MS")
}

record(fanout, "$(m1)$(val)FLNK") {
  field(LNK1, "$(assy)$(val)TsubMtr.PROC PP MS")
}

record(ai, "$(d1)$(val)") {
  field(PREC, "3")
  field(EGU, "$(egu_d1)")
  field(DESC, "$(desc_d1)")
}

# Added by Sergey 2005/04/23: synchronize ActPos and RqsPos:
record(tsub, "$(assy)Sync") {
  field(INAM, "$(tsub)")
  field(SNAM, "$(tsub)Sync")
  field(INPA, "$(m1)ActPos NPP MS")
  field(OUTA, "$(m1)RqsPos PP MS")
}


### Shutter readback support:

record(ao, "$(m1)OpenPos") {
}

record(ao, "$(m1)ClosePos") {
}

record(bo, "$(m1)bo:rbk") {
  field(DOL, "0")
  field(ZNAM,"Closed")
  field(ONAM,"Open")
  field(OSV, "MINOR") 
} 

### Shutter control support:

record(bo, "$(m1)bo") {
  field(DOL, "0")
  field(ZNAM,"Closed")
  field(ONAM,"Open")
  field(OSV, "MINOR") 
  field(FLNK, "$(m1)boFan.PROC PP MS") 
} 

record(fanout, "$(m1)boFan") {
  field(LNK1, "$(m1)goClose.PROC PP MS") 
  field(LNK2, "$(m1)goOpen.PROC PP MS") 
} 

record(stringout, "$(m1)goClose") {
  field(SDIS, "$(m1)CloseSDIS.VAL PP MS") 
  field(DTYP, "Soft Channel")
  field(OUT, "$(m1)StrCmd PP MS")
  field(VAL, "&16B4R")
}

record(stringout, "$(m1)goOpen") {
  field(SDIS, "$(m1)OpenSDIS.VAL PP MS") 
  field(DTYP, "Soft Channel")
  field(OUT, "$(m1)StrCmd PP MS")
  field(VAL, "&16B2R")
}

record(calc, "$(m1)CloseSDIS") {
  field(CALC, "(A=1)") 
  field(INPA, "$(m1)bo.VAL NPP MS")
}
  
record(calc, "$(m1)OpenSDIS") {
  field(CALC, "(A=0)") 
  field(INPA, "$(m1)bo.VAL NPP MS")
}
  
